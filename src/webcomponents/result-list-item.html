<template id="result-list-item-template">
  <style>
    div {
      overflow: hidden;
    }
    :host {
      width: 100%;
      height: 100%;
    }
    :host([unused]) {
      color: indianred;
    }
    :host([duplicate]) {
      color: goldenrod;
    }
    :host([unused][duplicate]) {
      color: indianred ;
    }
    code {
      position: relative;
    }
    code:hover::before {
      position: absolute;
      display: inline-block;
      content: '';
      left: 100%;
      top: 0;
      border: 12px solid transparent;
      border-right-color: #666;
    }
    code:hover::after {
      position: absolute;
      display: inline-block;
      content: attr(count) 'times';
      left: 100%;
      top: 0;
      margin-left: 24px;
      padding-left: 0.6em;
      padding-right: 0.6em;
      line-height: 24px;
      color: #ccc;
      background: #666;
      text-align: center;
      font-size: 13px;
    }
  </style>
  <div>
    <code>
      <content></content>
    </code>
  </div>
</template>
<script>
  window.ResultListItem = (function () {

    var resultListItemDocument = document.currentScript.ownerDocument;
    var ResultListItemPrototype = Object.create(HTMLLIElement.prototype);

    ResultListItemPrototype.createdCallback = function () {
      var template = resultListItemDocument.getElementById('result-list-item-template');
      var clone = document.importNode(template.content, true);
      this.shadowRoot = this.createShadowRoot();
      this.shadowRoot.appendChild(clone);
    };

    ResultListItemPrototype.attributeChangedCallback = function (attributeName, oldValue, newValue) {
      if (attributeName === 'count') {
        this.shadowRoot.querySelector('code').setAttribute('count', newValue);
      }
    };
    
    return document.registerElement('result-list-item', {
      prototype: ResultListItemPrototype
    });

  })();
</script>